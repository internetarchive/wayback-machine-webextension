var RadialTree=function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e,t){function n(e,t,n,a){var l=e.querySelector(".div-btn");e.querySelector(".year-btn")||n.forEach(function(o,s){var u=document.createElement("button");u.setAttribute("class","year-btn"),u.setAttribute("id",n[s]),u.innerHTML=n[s],u.onclick=function(l){var o=l.target;e.querySelector(".active-btn")&&e.querySelector(".active-btn").classList.remove("active-btn"),o.classList.add("active-btn"),c=o.id;var s=n.indexOf(o.id),u=i(s,a);r(e,t,u)},l.appendChild(u),s==n.length-1&&u.click()})}function r(e,t,n){function r(e){for(var t=c,n=e.ancestors().reverse(),r="",a=1;a<n.length&&"end"!=n[a].data.name;a++)r=r+"/"+n[a].data.name;window.open(s+"/web/"+t+"0630"+r)}function i(e){var t=e.ancestors().reverse();t.shift(),o(t),a.selectAll("path").style("opacity",.3),h.selectAll("path").filter(function(e){return t.indexOf(e)>=0}).style("opacity",1)}function l(t){e.querySelector(".sequence").innerHTML="",a.selectAll("path").on("mouseover",null),a.selectAll("path").transition().style("opacity",1).on("end",function(){a.select(this).on("mouseover",i)})}function o(t){var n="",r=document.createElement("span");r.setAttribute("class","symb"),r.innerHTML="/";for(var a=0;a<t.length;a++)n=0==a?" "+t[a].data.name:n+r.innerHTML+t[a].data.name;e.querySelector(".sequence").innerHTML=n}e.querySelector(".sequence").innerHTML="",e.querySelector("#chart").innerHTML="";const u=e.querySelector("#chart").offsetWidth,d=u,p=Math.min(u,d)/2;var f=a.scaleOrdinal(a.schemeCategory20b),h=a.select("#chart").append("svg:svg").attr("width",u).attr("height",d).append("svg:g").attr("id","d3_container").attr("transform","translate("+u/2+","+d/2+")"),v=a.partition().size([2*Math.PI,p*p]),m=a.arc().startAngle(function(e){return e.x0}).endAngle(function(e){return e.x1}).innerRadius(function(e){return Math.sqrt(e.y0)}).outerRadius(function(e){return Math.sqrt(e.y1)}),g=a.csvParseRows(n),y=function(e){e.sort(function(e,t){return e[0].length-t[0].length||e[0].localeCompare(t[0])});var n={};n[t.url]=1,"/"!=t.url.slice(-1)&&(n[t.url+"/"]=1);for(var r=0,a=e.length;r<a;r++){var i=String(e[r][0]).trim().replace(":80/","/");n[i]=1,"/"!=i.slice(-1)&&(n[i+"/"]=1)}for(var l="|",o={name:"root",children:[]},r=0;r<a;r++){var c=function(e){for(var t=e.trim().split("/"),r=[],a=1;a<t.length;a++){if(t.slice(0,a).join("/")in n==!1&&a>0){var i=t.slice(0,a).join("/").length;r.push(i)}}if(r.length>0){for(var o=e,c=1;c<r.length;c++){var s=r[c];o=o.substr(0,s)+l+o.substr(s+1)}return o}return e}(e[r][0]),s=+e[r][1];if(!isNaN(s)){var u=c.split("/");u=u.map(function(e){return e.replace(/\|/g,"/")});for(var d=o,p=0;p<u.length;p++){var f,h=d.children,v=u[p];if(p+1<u.length){for(var m=!1,g=0;g<h.length;g++)if(h[g].name==v){f=h[g],m=!0;break}m||(f={name:v,children:[]},h.push(f)),d=f}else f={name:v,size:s},h.push(f)}}}return o}(g);!function(e){h.append("svg:circle").attr("r",p).style("opacity",0);var t=a.hierarchy(e).sum(function(e){return e.size}).sort(function(e,t){return t.value-e.value}),n=v(t).descendants();h.data([e]).selectAll("path").data(n).enter().append("svg:path").attr("display",function(e){return e.depth?null:"none"}).attr("d",m).attr("fill-rule","evenodd").style("fill",function(e){return"end"==e.data.name?"#000000":f((e.children?e:e.parent).data.name)}).style("opacity",1).style("cursor","pointer").on("mouseover",i).on("click",r),a.select("#d3_container").on("mouseleave",l)}(y)}function i(e,t){var n="",r=2;2==t[e].length&&(r=1);for(var a=r;a<t[e].length;a++)n=a!=t[e].length-1?n+t[e][a]+" ,1\n":n+t[e][a]+" ,1";return n}var l,o,c=0,s="https://web.archive.org";void 0!==t.baseURL&&(s=t.baseURL),t.limit&&(l=t.limit),t.indicatorImg&&(o=t.indicatorImg),t.url&&(function(e){var t=document.createElement("div");t.setAttribute("class","rt-content");var n=document.createElement("div");n.setAttribute("class","div-btn");var r=document.createElement("p");r.setAttribute("class","sequence");var a=document.createElement("div");if(a.setAttribute("id","chart"),o){var i=document.createElement("img");i.setAttribute("src",o),i.setAttribute("class","rt-indicator"),a.appendChild(i)}t.appendChild(n),t.appendChild(r),t.appendChild(a),t.style.display="block",e.appendChild(t)}(e),function(e,t){var n=/http:\/\//,r=/https:\/\//,a=/\/$/;e.replace(n,""),e.replace(r,""),e.replace(a,"");var i=s+"/web/timemap/json?url="+e+"/&fl=timestamp:4,original&matchType=prefix&filter=statuscode:200&filter=mimetype:text/html&collapse=urlkey&collapse=timestamp:4";l&&(i+="&limit="+l);var o=new XMLHttpRequest;o.open("GET",i,!0),o.onerror=function(){t(!1,"An error occured. Please refresh the page and try again")},o.ontimeout=function(){t(!1,"Timeout, Please refresh the page and try again")},o.onload=function(){var e=JSON.parse(o.responseText);0==e.length&&t(!0,[]);for(var n=[],r=1;r<e.length;r++)e[r][1].match(/jpg|pdf|png|form|gif/)||(e[r][1]=e[r][1].trim().replace(":80/","/"),e[r][0]in n?n[e[r][0]].push(e[r][1]):n[e[r][0]]=[e[r][1]]);var a=[];for(var i in n)a.push([i].concat(n[i]));var l=function(){for(var e=0;e<a.length;e++)for(var t=1;t<a[e].length;t++){var n;a[e][t].includes("http")?n=a[e][t].substring(7):a[e][t].includes("https")&&(n=a[e][t].substring(8)),n.includes("//")&&(n=n.split("//").join("/")),n=n.split("/").join("/"),a[e][t]=n}return a}(),c=l.map(function(e){if(e.length>1)return e[0]});t(!0,null,c,l)},o.send()}(t.url,function(r,a,i,l){o&&(e.querySelector(".rt-indicator").style.display="none"),r&&n(e,t,i,l)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(2),i=(n.n(a),n(3));n.n(i)},function(e,t){e.exports=d3},function(e,t){}]).default;
//# sourceMappingURL=radial-tree.min.js.map